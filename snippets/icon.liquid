{%- comment -%}
Icon Snippet - Pitagora Theme
Generic icon renderer that can handle different icon types

Parameters:
- icon: icon identifier or direct SVG code (required)
- class: additional CSS classes (optional)
- size: icon size (optional, default: 24)
- color: icon color (optional)
{%- endcomment -%}

{%- liquid
  assign icon_size = size | default: 24
  assign icon_class = 'icon'
  if class != blank
    assign icon_class = icon_class | append: ' ' | append: class
  endif
-%}

{%- comment -%} Handle different icon types {%- endcomment -%}
{%- if icon contains '<svg' -%}
  {%- comment -%} Direct SVG code {%- endcomment -%}
  <span class="{{ icon_class }}" style="{% if color %}color: {{ color }};{% endif %} width: {{ icon_size }}px; height: {{ icon_size }}px; display: inline-flex; align-items: center; justify-content: center;">
    {{ icon }}
  </span>
{%- elsif icon contains 'icon-' -%}
  {%- comment -%} Icon class reference - render specific icon snippet {%- endcomment -%}
  <span class="{{ icon_class }}" style="{% if color %}color: {{ color }};{% endif %} width: {{ icon_size }}px; height: {{ icon_size }}px; display: inline-flex; align-items: center; justify-content: center;">
    {%- render icon -%}
  </span>
{%- else -%}
  {%- comment -%} Handle common icon names {%- endcomment -%}
  <span class="{{ icon_class }}" style="{% if color %}color: {{ color }};{% endif %} width: {{ icon_size }}px; height: {{ icon_size }}px; display: inline-flex; align-items: center; justify-content: center;">
    {%- case icon -%}
      {%- when 'shipping', 'truck', 'delivery' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M3 4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h1.27a2.5 2.5 0 0 0 4.46 0h6.54a2.5 2.5 0 0 0 4.46 0H21a1 1 0 0 0 1-1V8.5a.5.5 0 0 0-.15-.36l-3-3A.5.5 0 0 0 18.5 5H16V5a1 1 0 0 0-1-1H3zm13 2h2.19l2.5 2.5H16V6zm-2 12a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm8 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
        </svg>
      {%- when 'warranty', 'shield', 'protection' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 1l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-2.01L12 1z"/>
        </svg>
      {%- when 'returns', 'return', 'refresh' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
        </svg>
      {%- when 'secure', 'lock', 'security' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"/>
        </svg>
      {%- when 'support', 'help', 'question' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
        </svg>
      {%- when 'quality', 'star', 'premium' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-2.01L12 2z"/>
        </svg>
      {%- when 'eco', 'leaf', 'environment' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66c1.5-3.7 3.32-7.28 5.88-9.9 2.62-2.7 5.39-4.1 8.41-4.1v-2c-1.9 0-3.78.54-5.41 1.58L17 8zM6.5 8C7.88 8 9 6.88 9 5.5S7.88 3 6.5 3 4 4.12 4 5.5 5.12 8 6.5 8z"/>
        </svg>
      {%- when 'fast', 'speed', 'lightning' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M7 2v11h3v9l7-12h-4l3-8z"/>
        </svg>
      {%- when 'money', 'dollar', 'price' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
        </svg>
      {%- when 'gift', 'present' -%}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v4c0 1.11.89 2 2 2h1v6c0 1.11.89 2 2 2h10c1.11 0 2-.89 2-2v-6h1c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm6 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"/>
        </svg>
      {%- else -%}
        {%- comment -%} Generic icon or emoji fallback {%- endcomment -%}
        {%- if icon.size == 1 -%}
          {{ icon }}
        {%- else -%}
          <svg viewBox="0 0 24 24" fill="currentColor">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9 9h6v6H9z"/>
          </svg>
        {%- endif -%}
    {%- endcase -%}
  </span>
{%- endif -%}